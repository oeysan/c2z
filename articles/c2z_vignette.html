<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Behold c2z! • c2z</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Behold c2z!">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">c2z</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/c2z_public.html">Public library</a></li>
    <li><a class="dropdown-item" href="../articles/c2z_vignette.html">Behold c2z!</a></li>
    <li><a class="dropdown-item" href="../articles/zotero_api.html">Create a Zotero API key</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../TODO.html">Todo</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="http://twitter.com/motsegn" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/oeysan/c2z/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Behold c2z!</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/oeysan/c2z/blob/main/vignettes/articles/c2z_vignette.Rmd" class="external-link"><code>vignettes/articles/c2z_vignette.Rmd</code></a></small>
      <div class="d-none name"><code>c2z_vignette.Rmd</code></div>
    </div>

    
    
<p>The following vignette will demonstrate the basic functionality
(i.e., awesome might) of <em><code>c2z</code></em>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/oeysan/c2z/" class="external-link">c2z</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="collections">Collections<a class="anchor" aria-label="anchor" href="#collections"></a>
</h2>
<p>Your computer desktop reveals your <a href="https://www.pcgamer.com/pcg-staff-desktop-dnd-alignment-chart/" class="external-link">D&amp;D
alignment</a>. Similarly, the way you structure your Zotero library
through collections reveals your personality. (Chaotic neutral is not
using collections, obviously.)</p>
<p><em><code>c2z</code></em> lets you create nested collections on a
whim, as seen below.</p>
<div class="section level3">
<h3 id="creating-collections">Creating collections<a class="anchor" aria-label="anchor" href="#creating-collections"></a>
</h3>
<p>In this example we define a vector of nine elements based on “the
quick brown fox jumps over the lazy dog”. We use the <code>Zotero</code>
function, a wrapper that connects with the Zotero API and combines all
major functions in <em><code>c2z</code></em>, to create nine nested
collections based on the string (i.e., “dog” nested in “lazy” nested in
“the” et cetera). We set <code>library = TRUE</code>, thereby querying
the Zotero library, and <code>create = TRUE</code> to create any
collections that does not exist (i.e., all nine collections).</p>
<p>This is a recursive action, so let’s keep the noise at a minimum and
set <code>silent = TRUE</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Let's create a vector of nested collections</span></span>
<span><span class="va">collection.names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"The"</span>, <span class="st">"quick"</span>, <span class="st">"brown"</span>, <span class="st">"fox"</span>, <span class="st">"jumps"</span>, <span class="st">"over"</span>, <span class="st">"the"</span>, <span class="st">"lazy"</span>, <span class="st">"dog"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Create the collections</span></span>
<span><span class="va">create.collections</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Zotero.html">Zotero</a></span><span class="op">(</span></span>
<span>  collection.names <span class="op">=</span> <span class="va">collection.names</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  create <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-collections">Using collections<a class="anchor" aria-label="anchor" href="#using-collections"></a>
</h3>
<p>Now that we have created some collections, we can access the
collections in different ways. By default, the function will find the
last element in the vector (i.e., “dog”).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Dog</span></span>
<span><span class="va">create.collections</span><span class="op">$</span><span class="va">collections</span>  <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">key</span>, <span class="va">name</span>, <span class="va">parentCollection</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 3</span></span></span>
<span><span class="co">#&gt;   key      name  parentCollection</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Y6CZ8PQ9 dog   6DIEZZEJ</span></span></code></pre></div>
<p>However, we often want access all, or some, nested collections. We
can achieve this using two different approaches. 1) using
<code>recursive = TRUE</code> to access the given element and then
recursively find the nested collections, or 2) using
<code>ancestor = TRUE</code> and trace the lineage of the specified
collection.</p>
<p>You may use <code>collection.name</code> (you don’t have several
top-level collections with the same name, do you? If so, the function
will select the newest collection with the specified name), or
<code>collection.key</code> if you keep track of such things.
<em><code>c2z</code></em> will by default look for collections names
regardless of letter case, and if this is important set
<code>case.insensitive = FALSE</code>.</p>
<div class="section level4">
<h4 id="all-collections">All collections<a class="anchor" aria-label="anchor" href="#all-collections"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Find collections</span></span>
<span><span class="va">collections</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Zotero.html">Zotero</a></span><span class="op">(</span></span>
<span>  collection.names <span class="op">=</span> <span class="st">"The"</span>,</span>
<span>  case.insensitive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  recursive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># print collections</span></span>
<span><span class="va">collections</span><span class="op">$</span><span class="va">collections</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">key</span>, <span class="va">name</span>, <span class="va">parentCollection</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 3</span></span></span>
<span><span class="co">#&gt;   key      name  parentCollection</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2UZ8D3SF the   P4527NK3        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> P4527NK3 over  ZYKUUCS3        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> ZYKUUCS3 jumps INX272R9        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> INX272R9 fox   N8Y7ANBY        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> N8Y7ANBY brown GE36M75R        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Y6CZ8PQ9 dog   6DIEZZEJ        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> 6DIEZZEJ lazy  2UZ8D3SF        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> GE36M75R quick PDX5A66Q        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span> PDX5A66Q The   FALSE</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="recursive-path">Recursive path<a class="anchor" aria-label="anchor" href="#recursive-path"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Find collections</span></span>
<span><span class="va">recursive</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Zotero.html">Zotero</a></span><span class="op">(</span></span>
<span>  collection.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"The"</span>, <span class="st">"quick"</span>, <span class="st">"brown"</span><span class="op">)</span>,</span>
<span>  recursive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># print collections</span></span>
<span><span class="va">recursive</span><span class="op">$</span><span class="va">collections</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 1</span></span></span>
<span><span class="co">#&gt;   name </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> the  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> over </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> jumps</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> fox  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> brown</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> dog  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> lazy</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="ancestor-path">Ancestor path<a class="anchor" aria-label="anchor" href="#ancestor-path"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Find collections</span></span>
<span><span class="va">ancestor</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Zotero.html">Zotero</a></span><span class="op">(</span></span>
<span>  collection.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"The"</span>, <span class="st">"quick"</span>, <span class="st">"brown"</span>, <span class="st">"fox"</span><span class="op">)</span>,</span>
<span>  ancestor <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># print collections</span></span>
<span><span class="va">ancestor</span><span class="op">$</span><span class="va">collections</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 1</span></span></span>
<span><span class="co">#&gt;   name </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> fox  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> brown</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> quick</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> The</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="items">Items<a class="anchor" aria-label="anchor" href="#items"></a>
</h2>
<p>Okay, so we’ve created a bunch of collections. Kinda cool, I guess?
But collections are somewhat pointless without items. Sooo, lets add
some items!</p>
<div class="section level3">
<h3 id="adding-items-from-cristin">Adding items from Cristin<a class="anchor" aria-label="anchor" href="#adding-items-from-cristin"></a>
</h3>
<p>One motivation to develop <em><code>c2z</code></em> is an attempt at
making registering data at Cristin feel useful. The following example of
the <code>Cristin</code> function will gather all publications
containing the word “cheese”, published since 2020 (it was a good year
for cheese, probably).</p>
<p>The <code>zotero.import</code> is set to <code>TRUE</code>,
indicating that the function will use <code>CristinWrangler</code> to
convert Cristin metadata into an acceptable format for Zotero.
<code>use.identifiers = TRUE</code> and the function will therefore use
any identifiers (i.e., ISBN or DOI) to augment the metadata. The items
are posted to the Zotero library using <code>Zotero</code>, where items
are uploaded using the <code>items</code> argument. The
<code>index = TRUE</code>, creating an index of the items.</p>
<p>Rather than finicking over h-indexes and impact factors, Norwegians
have a weird obsession with NVI (Norwegian Science Index), which is a
two-level index where level one publications are ordinary and level two
are great (it probably makes sense). However, Cristin has no simple
method of filtering out publications that qualify for the two
levels.</p>
<p>The specified <code>filter</code> arguments try to filter out
categories that usually contain publications that are worthy of the NVI
(see all the Cristin <a href="https://api.cristin.no/v2/results/categories?lang=en" class="external-link">categories</a>).</p>
<p>Let’s post the results to the collection “fox”, while using the
argument <code>get.items = FALSE</code> as not to add any items in the
collection to the Zotero list.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter items</span></span>
<span><span class="va">cristin.filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"ACADEMICREVIEW"</span>,</span>
<span>  <span class="st">"ARTICLEJOURNAL"</span>,</span>
<span>  <span class="st">"ARTICLE"</span>, </span>
<span>  <span class="st">"ANTHOLOGYACA"</span>, </span>
<span>  <span class="st">"CHAPTER"</span>, </span>
<span>  <span class="st">"CHAPTERACADEMIC"</span>,</span>
<span>  <span class="st">"CHAPTERARTICLE"</span>,</span>
<span>  <span class="st">"COMMENTARYACA"</span>,</span>
<span>  <span class="st">"MONOGRAPHACA"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Query Cristin</span></span>
<span><span class="va">cristin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Cristin.html">Cristin</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">"cheese"</span>,</span>
<span>  published_since <span class="op">=</span> <span class="fl">2020</span>,</span>
<span>  published_before <span class="op">=</span> <span class="fl">2021</span>,</span>
<span>  filter <span class="op">=</span> <span class="va">cristin.filter</span>,</span>
<span>  zotero.import <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  use.identifiers <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Found 15 results </span></span>
<span><span class="co">#&gt; Checking whether references are supported. See `CristinSupported()` </span></span>
<span><span class="co">#&gt; Looking for missing data </span></span>
<span><span class="co">#&gt; Filtered out 9 results </span></span>
<span><span class="co">#&gt; Conducting sequential processing of 6 items (began 10.03.2025 - 09:41:51) </span></span>
<span><span class="co">#&gt; Runtime: 00:00:08.015 (ended 10.03.2025 - 09:41:59)</span></span>
<span></span>
<span><span class="co"># Get the fox key</span></span>
<span><span class="va">fox</span> <span class="op">&lt;-</span> <span class="va">collections</span><span class="op">$</span><span class="va">collections</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"fox"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="st">"key"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Post the items to the collection called fox</span></span>
<span><span class="va">post.cristin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Zotero.html">Zotero</a></span><span class="op">(</span></span>
<span>  collection.key <span class="op">=</span> <span class="va">fox</span>,</span>
<span>  metadata <span class="op">=</span> <span class="va">cristin</span><span class="op">$</span><span class="va">results</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  index <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post.collections <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  post.items <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Select only names in index and print</span></span>
<span><span class="va">post.cristin</span><span class="op">$</span><span class="va">index</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">80</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 1</span></span></span>
<span><span class="co">#&gt;   name                                                                          </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                                         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Lundberg et al. (2021) Determination of maintenance Jarlsberg® cheese dose to…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Olsen et al. (2021) Feeding concentrates with different protein sources to hi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Lundberg et al. (2020) Increased serum osteocalcin levels and vitamin K statu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Parodi et al. (2021) Kavli Selling Cheese in a Tube to the World              </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Gaber et al. (2021) Manufacture and characterization of acid-coagulated fresh…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Wolka et al. (2021) Soil organic carbon and associated soil properties in Ens…</span></span></code></pre></div>
<p>In this second example we have decided that 2019 was an even better
year for cheese and change the <code>published_since</code> argument to
2019. The reason why we are doing this is to demonstrate the duplicate
function in <code>Cristin</code>, which will identify any Cristin
references imported into Zotero if <code>zotero.check = TRUE</code>. The
function will try to use the <code>zotero</code> argument to search the
specified collection(s).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Query Cristin (again)</span></span>
<span><span class="va">cristin2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Cristin.html">Cristin</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">"cheese"</span>,</span>
<span>  published_since <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>  published_before <span class="op">=</span> <span class="fl">2021</span>,</span>
<span>  filter <span class="op">=</span> <span class="va">cristin.filter</span>,</span>
<span>  zotero.import <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  zotero.check <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  use.identifiers <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  zotero <span class="op">=</span> <span class="va">post.cristin</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Found 21 results </span></span>
<span><span class="co">#&gt; Checking whether references exist in library </span></span>
<span><span class="co">#&gt; Removed 6 duplicates </span></span>
<span><span class="co">#&gt; Checking whether references are supported. See `CristinSupported()` </span></span>
<span><span class="co">#&gt; Looking for missing data </span></span>
<span><span class="co">#&gt; Filtered out 9 results </span></span>
<span><span class="co">#&gt; Conducting sequential processing of 6 items (began 10.03.2025 - 09:42:02) </span></span>
<span><span class="co">#&gt; Runtime: 00:00:02.561 (ended 10.03.2025 - 09:42:05)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adding-items-from-identifiers">Adding items from identifiers<a class="anchor" aria-label="anchor" href="#adding-items-from-identifiers"></a>
</h3>
<p>Sometimes, it happens to everybody, we’re having a bunch of ISBNs and
DOIs lying around. Luckily, we can easily add them to Zotero using the
<code>Zotero</code> wrapper. In this case we are adding them to the
collection “quick”.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ISBN</span></span>
<span><span class="va">isbn.items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"9780761973836"</span>, <span class="st">"9788215048451"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># DOI</span></span>
<span><span class="va">doi.items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://doi.org/10.31234/osf.io/venu6"</span>, </span>
<span>               <span class="st">"10.1177/1098214010376532"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Post the items to the collections called quick</span></span>
<span><span class="va">identifiers</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Zotero.html">Zotero</a></span><span class="op">(</span></span>
<span>  collection.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"The"</span>, <span class="st">"quick"</span><span class="op">)</span>,</span>
<span>  isbn <span class="op">=</span> <span class="va">isbn.items</span>,</span>
<span>  doi <span class="op">=</span> <span class="va">doi.items</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  index <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post.collections <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  post.items <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post.token <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  get.items <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Select only names in index and print</span></span>
<span><span class="va">identifiers</span><span class="op">$</span><span class="va">index</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">80</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 1</span></span></span>
<span><span class="co">#&gt;   name                                                                          </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                                         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Ong-Dean et al. (2011) Challenges and Dilemmas in Implementing Random Assignm…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Wijeakumar et al. (2020) Home assessment of visual working memory in pre-scho…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Grøholt et al. (2022) Lærebok i barne- og ungdomspsykiatri</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adding-items-from-the-man">Adding items from the Man<a class="anchor" aria-label="anchor" href="#adding-items-from-the-man"></a>
</h3>
<p>When working in academia within a Norwegian context, you will
frequently need to examine the musings of politicians, or their selected
group of researchers. So, let’s add some random white papers and
official reports using <code>ZoteroGov</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Combine to a single tibble using dplyr</span></span>
<span><span class="va">gov.items</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="co"># Find some random white papers</span></span>
<span>  <span class="fu"><a href="../reference/ZoteroGov.html">ZoteroGov</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"26 (2001-2002)"</span>, <span class="st">"31 (2014-2015)"</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"meldst"</span><span class="op">)</span><span class="op">$</span><span class="va">data</span>,</span>
<span>  <span class="co"># Finds some random official Norwegian reports.</span></span>
<span>  <span class="fu"><a href="../reference/ZoteroGov.html">ZoteroGov</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2014: 4"</span>, <span class="st">"2018: 2"</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"nou"</span><span class="op">)</span><span class="op">$</span><span class="va">data</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Post the items to the collection called brown</span></span>
<span><span class="co">## Fitting given the source</span></span>
<span><span class="va">the.man</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Zotero.html">Zotero</a></span><span class="op">(</span></span>
<span>  collection.names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"The"</span>, <span class="st">"quick"</span>, <span class="st">"brown"</span><span class="op">)</span>,</span>
<span>  metadata <span class="op">=</span> <span class="va">gov.items</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  index  <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post.collections <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  post.items <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post.token <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  get.items <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Select only names in index and print</span></span>
<span><span class="va">the.man</span><span class="op">$</span><span class="va">index</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">80</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 1</span></span></span>
<span><span class="co">#&gt;   name                                                           </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> St.meld. nr. 26 (2001-2002) Bedre kollektivtransport           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> NOU 2014: 4 (2014) Enklere regler – bedre anskaffelser         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> NOU 2018: 2 (2018) Fremtidige kompetansebehovI                 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Meld. St. 31 (2014–2015) Garden som ressurs – marknaden som mål</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adding-items-from-cran">Adding items from CRAN<a class="anchor" aria-label="anchor" href="#adding-items-from-cran"></a>
</h3>
<p>Show some love (citations are love, yes?) for the authors that create
the packages that you use! (We see you, Hadley Wickham).</p>
<p>Here, we’re using the <code>ZoteroCran</code> function to collect
metadata from The Comprehensive R Archive Network (CRAN). The
<code>collection.key</code> is defined as:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lazy</span> <span class="op">&lt;-</span> <span class="va">collections</span><span class="op">$</span><span class="va">collections</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"lazy"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="st">"key"</span><span class="op">)</span></span></code></pre></div>
<p>The key is “6DIEZZEJ” and the argument <code>recursive = TRUE</code>,
thus the function is looking for the specified collection (i.e., “lazy”)
and all its children (i.e., “dog”).</p>
<p>It is often useful to link items to several (nested) collections. For
instance, you can create the nested collections “project -&gt;
CRAN-packages” and link the items to both collections. You can then
choose to access all items under “project”, including those in
“CRAN-packages”, or just access those filed under the latter.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Find selected packages </span></span>
<span><span class="va">packages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"dplyr"</span>,</span>
<span>  <span class="st">"httr"</span>,</span>
<span>  <span class="st">"jsonlite"</span>,</span>
<span>  <span class="st">"purrr"</span>,</span>
<span>  <span class="st">"rvest"</span>,</span>
<span>  <span class="st">"rlang"</span>,</span>
<span>  <span class="st">"tibble"</span>,</span>
<span>  <span class="st">"tidyr"</span>,</span>
<span>  <span class="st">"tidyselect"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Post the items to the collections called lazy and dog</span></span>
<span><span class="va">cran</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Zotero.html">Zotero</a></span><span class="op">(</span></span>
<span>  collection.key <span class="op">=</span> <span class="va">lazy</span>,</span>
<span>  metadata <span class="op">=</span> <span class="fu"><a href="../reference/ZoteroCran.html">ZoteroCran</a></span><span class="op">(</span><span class="va">packages</span><span class="op">)</span><span class="op">$</span><span class="va">data</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  index <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  recursive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post.collections <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  post.items <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  post.token <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  get.items <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Searching for collections </span></span>
<span><span class="co">#&gt; Found 9 collections </span></span>
<span><span class="co">#&gt; The Zotero list contains: 2 collections, 0 items, and 0 attachments </span></span>
<span><span class="co">#&gt; Adding 9 items to library using 1 POST request </span></span>
<span><span class="co">#&gt; —————————————————Process: 100.00% (1/1). Elapsed time: 00:00:00—————————————————</span></span>
<span><span class="co">#&gt; $post.status.items</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 2</span></span></span>
<span><span class="co">#&gt;   status  key     </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> success PYPCS87M</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> success QDBBT8EU</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> success S3AD73ZI</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> success 2UZHXDE9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> success 2LJFGM78</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> success B8CERAIB</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> success FEB6YC86</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> success 7GU66E2M</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span> success AS5CYNSX</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $post.summary.items</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   status  summary</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> success       9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Creating index for items</span></span>
<span></span>
<span><span class="co"># What do we got?</span></span>
<span><span class="co"># Select only names in index and print</span></span>
<span><span class="va">index</span> <span class="op">&lt;-</span> <span class="va">cran</span><span class="op">$</span><span class="va">index</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">80</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 1</span></span></span>
<span><span class="co">#&gt;   name                                                                          </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                                         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Wickham (2023a) dplyr: A Grammar of Data Manipulation                         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Wickham (2023b) httr: Tools for Working with URLs and HTTP                    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Ooms (2025) jsonlite: A Simple and Robust JSON Parser and Generator for R     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Wickham (2025) purrr: Functional Programming Tools                            </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Henry (2025) rlang: Functions for Base Types and Core R and 'Tidyverse' Featu…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Wickham (2024a) rvest: Easily Harvest (Scrape) Web Pages                      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Müller (2023) tibble: Simple Data Frames                                      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> Wickham (2024b) tidyr: Tidy Messy Data                                        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">9</span> Henry (2024) tidyselect: Select from a Set of Strings</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="copying">Copying<a class="anchor" aria-label="anchor" href="#copying"></a>
</h2>
<p>There are many situations where we want to copy collections and items
(and attachments) between libraries. You may want to copy from a public
Zotero library to your own or share your collections with a research
group.</p>
<p>The <code>Zotero</code> function contains a (somewhat convoluted)
method of copying collections and items from a group library to a user
library (and vice versa). However, in this example we’re appending the
group collections to our long line of nested collections, making the
process somewhat messy. Therefore, we split up the process using the
<code>ZoteroCopy</code> and <code>ZoteroPost</code> functions. The
<code>change.library</code> argument will query <code>Zotero</code> and
alter the location according to specified coordinates (the default
location is the user library as defined in <code>.Renviron</code>).</p>
<p>Please see the <a href="articles/zotero_api.html">tutorial</a> on how
to set up user/group id and API keys.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Access the group library (defined in .Renviron)</span></span>
<span><span class="va">group.library</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Zotero.html">Zotero</a></span><span class="op">(</span></span>
<span>  user <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Searching for collections </span></span>
<span><span class="co">#&gt; Found 5 collections </span></span>
<span><span class="co">#&gt; The Zotero list contains: 5 collections, 0 items, and 0 attachments </span></span>
<span><span class="co">#&gt; Searching for all items in library </span></span>
<span><span class="co">#&gt; Found 3 items </span></span>
<span><span class="co">#&gt; The Zotero list contains: 5 collections, 3 items, and 0 attachments</span></span>
<span></span>
<span><span class="co"># Copy the library creating new keys </span></span>
<span><span class="va">copy.library</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ZoteroCopy.html">ZoteroCopy</a></span><span class="op">(</span></span>
<span>  zotero <span class="op">=</span> <span class="va">group.library</span>,</span>
<span>  change.library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Copying collections </span></span>
<span><span class="co">#&gt; Copying items</span></span>
<span></span>
<span><span class="co"># Find key for dog</span></span>
<span><span class="va">dog</span> <span class="op">&lt;-</span> <span class="va">collections</span><span class="op">$</span><span class="va">collections</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"dog"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="st">"key"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Change parent collection of top-level collection to dog</span></span>
<span><span class="va">copy.library</span><span class="op">$</span><span class="va">collections</span> <span class="op">&lt;-</span> <span class="va">copy.library</span><span class="op">$</span><span class="va">collections</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    parentCollection <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">parentCollection</span> <span class="op">==</span> <span class="st">"FALSE"</span> <span class="op">~</span> <span class="va">dog</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">parentCollection</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Copy the collection and items to the user library</span></span>
<span><span class="va">post.copy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ZoteroPost.html">ZoteroPost</a></span><span class="op">(</span></span>
<span>  zotero <span class="op">=</span> <span class="va">copy.library</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Select only names in index and print</span></span>
<span><span class="fu"><a href="../reference/ZoteroIndex.html">ZoteroIndex</a></span><span class="op">(</span><span class="va">post.copy</span><span class="op">$</span><span class="va">items</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">80</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 1</span></span></span>
<span><span class="co">#&gt;   name                                                                          </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                                         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Mishra et al. (2023) Exploring Active and Critical Engagement in Human-Robot …</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Somby &amp; Stalheim (2023) Vygotsky med VR-briller                               </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Somby &amp; Vik (2023) Vygotskys defektologi - et perspektiv på inkluderende oppl…</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="bibliography">Bibliography<a class="anchor" aria-label="anchor" href="#bibliography"></a>
</h2>
<p>It’s a wrap!</p>
<p>Now it’s time to harvest the bounty that we have created during the
steps above. We could create separate bibliographies, but for the sake
of simplicity we are mashing it all together. That’s friendship!</p>
<p>The arguments used in <code>Zotero</code> are somewhat
self-explanatory, however, we are also <code>csl.type</code> to access a
<a href="https://github.com/citation-style-language/styles" class="external-link">style
repository</a> in order to create a Citation Style Language (CSL) file
according to <a href="https://apastyle.apa.org/" class="external-link">APA7</a>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create references.bib in biblatex format with style.csl according to APA7</span></span>
<span><span class="va">bibliography</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Zotero.html">Zotero</a></span><span class="op">(</span></span>
<span>  collection.names <span class="op">=</span> <span class="st">"The"</span>,</span>
<span>  recursive <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  library <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  export <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"biblatex"</span>,</span>
<span>  save.data <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  save.path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  bib.name <span class="op">=</span> <span class="st">"references"</span>,</span>
<span>  csl.type <span class="op">=</span> <span class="st">"apa-single-spaced"</span>,</span>
<span>  csl.name <span class="op">=</span> <span class="st">"style"</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># What do we got?</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span></span>
<span>  <span class="st">"We now have %s collections, %s references, and %s attachments"</span>,</span>
<span>  <span class="va">bibliography</span><span class="op">$</span><span class="va">n.collections</span>,</span>
<span>  <span class="va">bibliography</span><span class="op">$</span><span class="va">n.items</span>,</span>
<span>  <span class="va">bibliography</span><span class="op">$</span><span class="va">n.attachments</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "We now have 9 collections, 31 references, and 0 attachments"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="deleting">Deleting<a class="anchor" aria-label="anchor" href="#deleting"></a>
</h2>
<p>Housecleaning! We should clean up the mess in your library. You could
set <a href="https://www.youtube.com/watch?v=iEV3mbS-HgY" class="external-link"><code>ragnarok</code></a>
and <code>force = TRUE</code>, if you want to delete everything in your
library.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Delete all collections and items belonging to initial key</span></span>
<span><span class="va">delete</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ZoteroDelete.html">ZoteroDelete</a></span><span class="op">(</span></span>
<span>  <span class="va">bibliography</span>, </span>
<span>  delete.collections <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  delete.items <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Deleting 9 collections using 1 DELETE request </span></span>
<span><span class="co">#&gt; —————————————————Process: 100.00% (1/1). Elapsed time: 00:00:00—————————————————</span></span>
<span><span class="co">#&gt; Deleting 31 items using 1 DELETE request </span></span>
<span><span class="co">#&gt; —————————————————Process: 100.00% (1/1). Elapsed time: 00:00:00—————————————————</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>We can now display the references that we have collected and created
using <em><code>c2z</code></em>.</p>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-gaber_manufacture_2021" class="csl-entry">
Gaber, S. M., Johansen, A.-G., Devold, T. G., Rukke, E.-O., &amp; Skeie,
S. B. (2021). Manufacture and characterization of acid-coagulated fresh
cheese made from casein concentrates obtained by acid diafiltration.
<em>Journal of Dairy Science</em>, <em>104</em>(6), 6598–6608. <a href="https://doi.org/10.3168/jds.2020-19917" class="external-link">https://doi.org/10.3168/jds.2020-19917</a>
</div>
<div id="ref-groholt_laerebok_2022" class="csl-entry">
Grøholt, B., Weidle, B., Garløv, I., &amp; Ramleth, R.-K. (2022).
<em>Lærebok i barne- og ungdomspsykiatri</em> (6th ed.).
Universitetsforlaget.
</div>
<div id="ref-henry_tidyselect_2024" class="csl-entry">
Henry, L. (2024). <em>Tidyselect: Select from a set of strings</em>
(Version 1.2.1) [Computer software]. <a href="https://cran.r-project.org/package=tidyselect" class="external-link">https://cran.r-project.org/package=tidyselect</a>
</div>
<div id="ref-henry_rlang_2025" class="csl-entry">
Henry, L. (2025). <em>Rlang: Functions for base types and core r and
’tidyverse’ features</em> (Version 1.1.5) [Computer software]. <a href="https://cran.r-project.org/package=rlang" class="external-link">https://cran.r-project.org/package=rlang</a>
</div>
<div id="ref-lundberg_increased_2020" class="csl-entry">
Lundberg, H. E., Holand, T., Holo, H., &amp; Larsen, S. (2020).
Increased serum osteocalcin levels and vitamin k status by daily cheese
intake. <em>International Journal of Clinical Trials</em>,
<em>7</em>(2), 55. <a href="https://doi.org/10.18203/2349-3259.ijct20201712" class="external-link">https://doi.org/10.18203/2349-3259.ijct20201712</a>
</div>
<div id="ref-lundberg_determination_2021" class="csl-entry">
Lundberg, H. E., Holo, H., Holand, T., Fagertun, H. E., &amp; Larsen, S.
(2021). Determination of maintenance jarlsberg® cheese dose to keep the
obtained serum osteocalcin level; a response surface pathway designed
de-escalation dose study with individual starting values.
<em>International Journal of Clinical Trials (<span>IJCT</span>)</em>,
<em>8</em>(3), 174. https://doi.org/<a href="https://doi.org/10.18203/2349-3259.ijct20212841" class="external-link">https://doi.org/10.18203/2349-3259.ijct20212841</a>
</div>
<div id="ref-meld_st_31_20142015_garden_2015" class="csl-entry">
Meld. St. 31 (2014–2015). (2015). <em>Garden som ressurs – marknaden som
mål</em>. Landbruks- og matdepartementet. <a href="https://www.regjeringen.no/id2415017" class="external-link">https://www.regjeringen.no/id2415017</a>
</div>
<div id="ref-muller_tibble_2023" class="csl-entry">
Müller, K. (2023). <em>Tibble: Simple data frames</em> (Version 3.2.1)
[Computer software]. <a href="https://cran.r-project.org/package=tibble" class="external-link">https://cran.r-project.org/package=tibble</a>
</div>
<div id="ref-nou_2014_4_enklere_2014" class="csl-entry">
NOU 2014: 4. (2014). <em>Enklere regler – bedre anskaffelser</em>.
Nærings- og fiskeridepartementet. <a href="https://www.regjeringen.no/id761768" class="external-link">https://www.regjeringen.no/id761768</a>
</div>
<div id="ref-nou_2018_2_fremtidige_2018" class="csl-entry">
NOU 2018: 2. (2018). <em>Fremtidige <span>kompetansebehovI</span></em>.
Kunnskapsdepartementet. <a href="https://www.regjeringen.no/id2588070" class="external-link">https://www.regjeringen.no/id2588070</a>
</div>
<div id="ref-olsen_feeding_2021" class="csl-entry">
Olsen, M. A., Vhile, S. G., Porcellato, D., Kidane, A., &amp; Skeie, S.
B. (2021). Feeding concentrates with different protein sources to
high-yielding, mid-lactation norwegian red cows: Effect on cheese
ripening. <em>Journal of Dairy Science</em>, <em>104</em>(4), 4062–4073.
<a href="https://doi.org/10.3168/jds.2020-19226" class="external-link">https://doi.org/10.3168/jds.2020-19226</a>
</div>
<div id="ref-ong-dean_challenges_2011" class="csl-entry">
Ong-Dean, C., Huie Hofstetter, C., &amp; Strick, B. R. (2011).
Challenges and dilemmas in implementing random assignment in educational
research. <em>American Journal of Evaluation</em>, <em>32</em>(1),
29–49. <a href="https://doi.org/10.1177/1098214010376532" class="external-link">https://doi.org/10.1177/1098214010376532</a>
</div>
<div id="ref-ooms_jsonlite_2025" class="csl-entry">
Ooms, J. (2025). <em>Jsonlite: A simple and robust <span>JSON</span>
parser and generator for r</em> (Version 1.9.1) [Computer software]. <a href="https://cran.r-project.org/package=jsonlite" class="external-link">https://cran.r-project.org/package=jsonlite</a>
</div>
<div id="ref-parodi_kavli_2021" class="csl-entry">
Parodi, M. C. H., Lankut, E., &amp; Alon, I. (2021). Kavli selling
cheese in a tube to the world. In <em>Intercultural management in
practice</em> (pp. 27–33). Emerald Publishing Limited. <a href="https://doi.org/10.1108/978-1-83982-826-320211004" class="external-link">https://doi.org/10.1108/978-1-83982-826-320211004</a>
</div>
<div id="ref-stmeld_nr_26_2001-2002_bedre_2002" class="csl-entry">
St.meld. nr. 26 (2001-2002). (2002). <em>Bedre kollektivtransport</em>.
Samferdselsdepartementet. <a href="https://www.regjeringen.no/id196149" class="external-link">https://www.regjeringen.no/id196149</a>
</div>
<div id="ref-wickham_httr_2023" class="csl-entry">
Wickham, H. (2023a). <em>Httr: Tools for working with <span>URLs</span>
and <span>HTTP</span></em> (Version 1.4.7) [Computer software]. <a href="https://cran.r-project.org/package=httr" class="external-link">https://cran.r-project.org/package=httr</a>
</div>
<div id="ref-wickham_dplyr_2023" class="csl-entry">
Wickham, H. (2023b). <em>Dplyr: A grammar of data manipulation</em>
(Version 1.1.4) [Computer software]. <a href="https://cran.r-project.org/package=dplyr" class="external-link">https://cran.r-project.org/package=dplyr</a>
</div>
<div id="ref-wickham_tidyr_2024" class="csl-entry">
Wickham, H. (2024a). <em>Tidyr: Tidy messy data</em> (Version 1.3.1)
[Computer software]. <a href="https://cran.r-project.org/package=tidyr" class="external-link">https://cran.r-project.org/package=tidyr</a>
</div>
<div id="ref-wickham_rvest_2024" class="csl-entry">
Wickham, H. (2024b). <em>Rvest: Easily harvest (scrape) web pages</em>
(Version 1.0.4) [Computer software]. <a href="https://cran.r-project.org/package=rvest" class="external-link">https://cran.r-project.org/package=rvest</a>
</div>
<div id="ref-wickham_purrr_2025" class="csl-entry">
Wickham, H. (2025). <em>Purrr: Functional programming tools</em>
(Version 1.0.4) [Computer software]. <a href="https://cran.r-project.org/package=purrr" class="external-link">https://cran.r-project.org/package=purrr</a>
</div>
<div id="ref-wijeakumar_home_2020" class="csl-entry">
Wijeakumar, S., Rafetseder, E., Shing, Y. L., &amp; McKay, C. (2020).
<em>Home assessment of visual working memory in pre-schoolers reveals
associations between behaviour, brain activation and environmental
measures.</em> <span>PsyArXiv</span>. <a href="https://doi.org/10.31234/osf.io/venu6" class="external-link">https://doi.org/10.31234/osf.io/venu6</a>
</div>
<div id="ref-wolka_soil_2021" class="csl-entry">
Wolka, K., Biazin, B., Martinsen, V., &amp; Mulder, J. (2021). Soil
organic carbon and associated soil properties in enset (ensete
ventricosum welw. Cheesman)-based homegardens in ethiopia. <em>Soil and
Tillage Research</em>, <em>205</em>(2021), 104791. <a href="https://doi.org/10.1016/j.still.2020.104791" class="external-link">https://doi.org/10.1016/j.still.2020.104791</a>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Øystein Olav Skaar.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
